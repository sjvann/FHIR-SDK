# ç¶­è­·ä½œæ¥­æ¨™æº–æµç¨‹

## ğŸ“‹ ç¶­è­·æ¦‚è¦½

æœ¬æ–‡æª”å®šç¾©äº† FHIR SDK å°ˆæ¡ˆçš„ç¶­è­·ä½œæ¥­æ¨™æº–æµç¨‹ï¼Œç¢ºä¿ç³»çµ±çš„ç©©å®šæ€§å’Œå¯é æ€§ã€‚

## ğŸ”„ æ—¥å¸¸ç¶­è­·ä½œæ¥­

### æ¯æ—¥æª¢æŸ¥é …ç›®

1. **CI/CD ç®¡é“ç‹€æ…‹**
   - æª¢æŸ¥ GitHub Actions åŸ·è¡Œç‹€æ…‹
   - ç¢ºèªæ‰€æœ‰æ¸¬è©¦é€šé
   - æª¢æŸ¥ç¨‹å¼ç¢¼è¦†è“‹ç‡å ±å‘Š

2. **æ•ˆèƒ½ç›£æ§**
   - æª¢æŸ¥æ•ˆèƒ½æ¸¬è©¦çµæœ
   - ç›£æ§å»ºç½®æ™‚é–“è¶¨å‹¢
   - åˆ†æè¨˜æ†¶é«”ä½¿ç”¨æƒ…æ³

3. **å®‰å…¨æ€§æª¢æŸ¥**
   - æª¢æŸ¥ CodeQL æƒæçµæœ
   - ç›£æ§ä¾è³´å¥—ä»¶å®‰å…¨æ€§
   - æª¢æŸ¥å·²çŸ¥æ¼æ´

### æ¯é€±ç¶­è­·ä½œæ¥­

```bash
# 1. æ›´æ–°ä¾è³´å¥—ä»¶
dotnet list package --outdated
dotnet add package PackageName --version NewVersion

# 2. åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶
dotnet test --configuration Release --collect:"XPlat Code Coverage"

# 3. åŸ·è¡Œæ•ˆèƒ½åŸºæº–æ¸¬è©¦
dotnet run --project PerformanceTests --configuration Release

# 4. ç”Ÿæˆç¶­è­·å ±å‘Š
./scripts/generate-maintenance-report.ps1
```

### æ¯æœˆç¶­è­·ä½œæ¥­

1. **ç¨‹å¼ç¢¼å“è³ªå¯©æŸ¥**
   - åˆ†æéœæ…‹åˆ†æçµæœ
   - æª¢æŸ¥ç¨‹å¼ç¢¼è¦†è“‹ç‡è¶¨å‹¢
   - è©•ä¼°æŠ€è¡“å‚µå‹™

2. **æ•ˆèƒ½å„ªåŒ–**
   - åˆ†ææ•ˆèƒ½åŸºæº–æ¸¬è©¦çµæœ
   - è­˜åˆ¥æ•ˆèƒ½ç“¶é ¸
   - å¯¦ä½œæ•ˆèƒ½æ”¹é€²

3. **æ–‡ä»¶æ›´æ–°**
   - æ›´æ–° API æ–‡ä»¶
   - æª¢æŸ¥ç¯„ä¾‹ç¨‹å¼ç¢¼
   - æ›´æ–°ç¶­è­·æ–‡ä»¶

## ğŸ“Š ç›£æ§æŒ‡æ¨™

### å“è³ªæŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¼ | æª¢æŸ¥é »ç‡ |
|------|--------|----------|
| ç¨‹å¼ç¢¼è¦†è“‹ç‡ | > 90% | æ¯æ—¥ |
| éœæ…‹åˆ†æè­¦å‘Š | 0 | æ¯æ—¥ |
| å»ºç½®æ™‚é–“ | < 30 ç§’ | æ¯æ—¥ |
| æ¸¬è©¦é€šéç‡ | 100% | æ¯æ—¥ |

### æ•ˆèƒ½æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¼ | æª¢æŸ¥é »ç‡ |
|------|--------|----------|
| åºåˆ—åŒ–æ•ˆèƒ½ | < 1ms | æ¯é€± |
| é©—è­‰æ•ˆèƒ½ | < 5ms | æ¯é€± |
| è¨˜æ†¶é«”ä½¿ç”¨ | < 100MB | æ¯é€± |
| å•Ÿå‹•æ™‚é–“ | < 2 ç§’ | æ¯é€± |

### å®‰å…¨æ€§æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¼ | æª¢æŸ¥é »ç‡ |
|------|--------|----------|
| å·²çŸ¥æ¼æ´ | 0 | æ¯æ—¥ |
| ä¾è³´å¥—ä»¶å®‰å…¨æ€§ | é€šé | æ¯é€± |
| CodeQL æƒæ | é€šé | æ¯æ—¥ |

## ğŸ”§ æ•…éšœæ’é™¤æµç¨‹

### 1. å•é¡Œè­˜åˆ¥

```bash
# æª¢æŸ¥å»ºç½®ç‹€æ…‹
dotnet build --verbosity normal

# æª¢æŸ¥æ¸¬è©¦ç‹€æ…‹
dotnet test --verbosity normal

# æª¢æŸ¥æ•ˆèƒ½æ¸¬è©¦
dotnet run --project PerformanceTests --verbosity normal
```

### 2. å•é¡Œåˆ†é¡

#### å»ºç½®å•é¡Œ
- **ç—‡ç‹€**: å»ºç½®å¤±æ•—ï¼Œç·¨è­¯éŒ¯èª¤
- **è§£æ±ºæ­¥é©Ÿ**:
  1. æª¢æŸ¥ .NET SDK ç‰ˆæœ¬
  2. æ¸…ç†ä¸¦é‡æ–°å»ºç½®
  3. æª¢æŸ¥å¥—ä»¶ç›¸ä¾æ€§

#### æ¸¬è©¦å•é¡Œ
- **ç—‡ç‹€**: å–®å…ƒæ¸¬è©¦å¤±æ•—
- **è§£æ±ºæ­¥é©Ÿ**:
  1. æª¢æŸ¥æ¸¬è©¦ç’°å¢ƒ
  2. é‡æ–°åŸ·è¡Œå¤±æ•—çš„æ¸¬è©¦
  3. æª¢æŸ¥æ¸¬è©¦è³‡æ–™

#### æ•ˆèƒ½å•é¡Œ
- **ç—‡ç‹€**: æ•ˆèƒ½æ¸¬è©¦å¤±æ•—æˆ–æ•ˆèƒ½ä¸‹é™
- **è§£æ±ºæ­¥é©Ÿ**:
  1. åˆ†ææ•ˆèƒ½åŸºæº–æ¸¬è©¦çµæœ
  2. è­˜åˆ¥æ•ˆèƒ½ç“¶é ¸
  3. å¯¦ä½œæ•ˆèƒ½å„ªåŒ–

### 3. å•é¡Œè§£æ±ºæµç¨‹

```bash
# 1. å»ºç«‹å•é¡Œåˆ†æ”¯
git checkout -b hotfix/issue-description

# 2. å¯¦ä½œä¿®å¾©
# ... ç·¨å¯«ä¿®å¾©ç¨‹å¼ç¢¼ ...

# 3. åŸ·è¡Œæ¸¬è©¦
dotnet test --configuration Release
dotnet run --project PerformanceTests --configuration Release

# 4. æäº¤ä¿®å¾©
git add .
git commit -m "fix: ä¿®å¾©å•é¡Œæè¿°

- å…·é«”ä¿®å¾©å…§å®¹
- æ¸¬è©¦çµæœ

Fixes #123"

# 5. æ¨é€ä¿®å¾©
git push origin hotfix/issue-description
```

## ğŸš€ å‡ç´šæµç¨‹

### ç‰ˆæœ¬å‡ç´šæª¢æŸ¥æ¸…å–®

- [ ] æª¢æŸ¥ç›¸å®¹æ€§
- [ ] æ›´æ–°ä¾è³´å¥—ä»¶
- [ ] åŸ·è¡Œå®Œæ•´æ¸¬è©¦
- [ ] æ›´æ–°æ–‡ä»¶
- [ ] æ›´æ–°ç¯„ä¾‹ç¨‹å¼ç¢¼
- [ ] åŸ·è¡Œæ•ˆèƒ½æ¸¬è©¦
- [ ] æ›´æ–°ç‰ˆæœ¬è™Ÿ

### .NET ç‰ˆæœ¬å‡ç´š

```bash
# 1. æ›´æ–°ç›®æ¨™æ¡†æ¶
# ç·¨è¼¯ .csproj æª”æ¡ˆ
<TargetFramework>net9.0</TargetFramework>

# 2. æ›´æ–°å¥—ä»¶ç‰ˆæœ¬
dotnet list package --outdated
dotnet add package PackageName --version NewVersion

# 3. åŸ·è¡Œæ¸¬è©¦
dotnet test --configuration Release

# 4. æª¢æŸ¥ç›¸å®¹æ€§
dotnet build --verbosity normal
```

### FHIR ç‰ˆæœ¬å‡ç´š

```bash
# 1. æ›´æ–° FHIR è¦æ ¼
# æ›´æ–° DataTypeServices/TypeFramework/FhirR4Version.cs

# 2. æ›´æ–°é©—è­‰è¦å‰‡
# æ›´æ–° DataTypeServices/Validation/FhirValidationEngine.cs

# 3. åŸ·è¡Œç›¸å®¹æ€§æ¸¬è©¦
dotnet test --filter "Category=Compatibility" --configuration Release

# 4. æ›´æ–°æ–‡ä»¶
# æ›´æ–° README.md å’Œ API æ–‡ä»¶
```

## ğŸ“ˆ æ•ˆèƒ½å„ªåŒ–

### æ•ˆèƒ½åˆ†æå·¥å…·

```bash
# ä½¿ç”¨ dotnet-trace é€²è¡Œæ•ˆèƒ½åˆ†æ
dotnet tool install --global dotnet-trace
dotnet trace collect --name FhirSdk

# ä½¿ç”¨ dotnet-counters ç›£æ§è¨ˆæ•¸å™¨
dotnet tool install --global dotnet-counters
dotnet counters monitor --process-id <PID>
```

### è¨˜æ†¶é«”å„ªåŒ–

```bash
# ä½¿ç”¨ dotnet-dump åˆ†æè¨˜æ†¶é«”
dotnet tool install --global dotnet-dump
dotnet dump collect --process-id <PID>

# ä½¿ç”¨ dotnet-gcdump åˆ†æ GC
dotnet tool install --global dotnet-gcdump
dotnet gcdump collect --process-id <PID>
```

### æ•ˆèƒ½åŸºæº–æ¸¬è©¦

```bash
# åŸ·è¡Œæ•ˆèƒ½åŸºæº–æ¸¬è©¦
dotnet run --project PerformanceTests --configuration Release

# æ¯”è¼ƒä¸åŒç‰ˆæœ¬çš„æ•ˆèƒ½
dotnet run --project PerformanceTests --configuration Release --filter "*Serialization*"
```

## ğŸ”’ å®‰å…¨æ€§ç¶­è­·

### å®‰å…¨æ€§æƒæ

```bash
# æª¢æŸ¥ä¾è³´å¥—ä»¶æ¼æ´
dotnet list package --vulnerable

# åŸ·è¡Œ CodeQL æƒæ (åœ¨ CI/CD ä¸­è‡ªå‹•åŸ·è¡Œ)
# æœ¬åœ°å¯ä»¥åŸ·è¡Œå…¶ä»–å®‰å…¨æ€§æƒæå·¥å…·
```

### å®‰å…¨æ€§æ›´æ–°æµç¨‹

1. **è­˜åˆ¥æ¼æ´**
   - ç›£æ§å®‰å…¨æ€§å…¬å‘Š
   - æª¢æŸ¥ä¾è³´å¥—ä»¶æ¼æ´
   - åŸ·è¡Œå®‰å…¨æ€§æƒæ

2. **è©•ä¼°å½±éŸ¿**
   - è©•ä¼°æ¼æ´åš´é‡ç¨‹åº¦
   - åˆ†æå°ç³»çµ±çš„å½±éŸ¿
   - åˆ¶å®šä¿®å¾©è¨ˆåŠƒ

3. **å¯¦ä½œä¿®å¾©**
   - æ›´æ–°å—å½±éŸ¿çš„å¥—ä»¶
   - å¯¦ä½œå®‰å…¨æ€§ä¿®å¾©
   - åŸ·è¡Œå®‰å…¨æ€§æ¸¬è©¦

4. **é©—è­‰ä¿®å¾©**
   - åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶
   - é©—è­‰å®‰å…¨æ€§ä¿®å¾©
   - æ›´æ–°å®‰å…¨æ€§æ–‡ä»¶

## ğŸ“‹ ç¶­è­·æª¢æŸ¥æ¸…å–®

### æ¯æ—¥æª¢æŸ¥

- [ ] CI/CD ç®¡é“ç‹€æ…‹
- [ ] æ¸¬è©¦çµæœ
- [ ] ç¨‹å¼ç¢¼è¦†è“‹ç‡
- [ ] å®‰å…¨æ€§æƒæçµæœ

### æ¯é€±æª¢æŸ¥

- [ ] æ•ˆèƒ½åŸºæº–æ¸¬è©¦
- [ ] ä¾è³´å¥—ä»¶æ›´æ–°
- [ ] ç¨‹å¼ç¢¼å“è³ªåˆ†æ
- [ ] æ–‡ä»¶å®Œæ•´æ€§

### æ¯æœˆæª¢æŸ¥

- [ ] ç‰ˆæœ¬å‡ç´šè©•ä¼°
- [ ] æŠ€è¡“å‚µå‹™å¯©æŸ¥
- [ ] æ•ˆèƒ½å„ªåŒ–æ©Ÿæœƒ
- [ ] å®‰å…¨æ€§è©•ä¼°

## ğŸ“ ç·Šæ€¥è¯çµ¡è³‡è¨Š

### å•é¡Œå‡ç´šæµç¨‹

1. **ç¬¬ä¸€ç´šæ”¯æ´** - é–‹ç™¼åœ˜éšŠ
   - ä¸€èˆ¬æŠ€è¡“å•é¡Œ
   - å»ºç½®å’Œæ¸¬è©¦å•é¡Œ

2. **ç¬¬äºŒç´šæ”¯æ´** - è³‡æ·±é–‹ç™¼è€…
   - è¤‡é›œæŠ€è¡“å•é¡Œ
   - æ•ˆèƒ½å•é¡Œ
   - å®‰å…¨æ€§å•é¡Œ

3. **ç¬¬ä¸‰ç´šæ”¯æ´** - æ¶æ§‹å¸«
   - æ¶æ§‹å•é¡Œ
   - é‡å¤§æ•…éšœ
   - ç·Šæ€¥ä¿®å¾©

### è¯çµ¡æ–¹å¼

- **æŠ€è¡“è¨è«–**: GitHub Discussions
- **å•é¡Œå›å ±**: GitHub Issues
- **ç·Šæ€¥è¯çµ¡**: åœ˜éšŠ Slack é »é“
- **æ–‡ä»¶**: GitHub Wiki

## ğŸ“š ç›¸é—œæ–‡ä»¶

- [é–‹ç™¼ç’°å¢ƒè¨­å®š](DEVELOPMENT.md)
- [API æ–‡ä»¶](API.md)
- [æ•ˆèƒ½æ¸¬è©¦æŒ‡å—](PERFORMANCE.md)
- [å®‰å…¨æ€§æŒ‡å—](SECURITY.md) 